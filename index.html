<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The World, Corrected</title>
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/src/style.css" />
</head>
<body>

<div id="page">

  <!-- ── TOP BAND ── -->
  <div id="top-band">
    <div class="title-group">
      <h1 id="city-title">The World, Corrected</h1>
      <span class="subtitle">An exercise in unlearning north</span>
    </div>
    <div id="coords">
      <span id="coords-lat">0.00° N</span>
      <span class="coord-sep">/</span>
      <span id="coords-lon">0.00° E</span>
      <span class="coord-sep">/</span>
      <span id="coords-zoom">z2.5</span>
    </div>
  </div>

  <!-- ── MAP FRAME ── -->
  <div id="map-frame">
    <div id="map"></div>

    <!-- ── Manifesto overlay ── -->
    <div id="manifesto">
      <p>"There is no up or down in space.<br/>
      Only habit decides where north goes."</p>
    </div>
  </div>

  <!-- ── BOTTOM BAND ── -->
  <div id="bot-band">

    <!-- Scale block: north arrow + scale bar + ratio -->
    <div class="scale-block">
      <div class="north-arrow" id="north-arrow">
        <svg width="38" height="38" viewBox="0 0 60 60">
          <line x1="30" y1="0" x2="30" y2="60" stroke="#E87461" stroke-width="0.6"/>
          <line x1="0" y1="30" x2="60" y2="30" stroke="#E87461" stroke-width="0.6"/>
          <circle cx="30" cy="30" r="24" fill="none" stroke="#E87461" stroke-width="1.8"/>
          <circle cx="30" cy="30" r="20" fill="none" stroke="#E87461" stroke-width="0.6"/>
          <!-- Pointer fills downward — north is down in this projection -->
          <rect x="27" y="30" width="6" height="24" fill="#E87461"/>
          <text x="30" y="64" text-anchor="middle" font-family="Space Mono,monospace" font-size="7" font-weight="700" fill="#E87461">N</text>
        </svg>
      </div>
      <div class="scale-wrapper">
        <svg id="scale-svg"></svg>
      </div>
      <span class="scale-ratio" id="scale-ratio"></span>
    </div>

    <!-- Legend -->
    <div class="legend-block">
      <div class="legend-title">Risograph Palette &middot; Legend</div>
      <div class="legend-row">
        <div class="leg-item">
          <svg viewBox="0 0 14 14"><rect x="1" y="1" width="12" height="12" rx="1" fill="#EDE8E0" stroke="#C4BAA8" stroke-width="0.8"/></svg>
          <span>Land</span>
        </div>
        <div class="leg-item">
          <svg viewBox="0 0 14 14"><rect x="1" y="1" width="12" height="12" rx="1" fill="#9B8E7E" stroke="#8B7D6B" stroke-width="0.8"/></svg>
          <span>Water</span>
        </div>
        <div class="leg-item">
          <svg viewBox="0 0 14 14"><rect x="1" y="1" width="12" height="12" rx="1" fill="#9EC4D4" stroke="#7BAFC2" stroke-width="0.8" opacity="0.7"/></svg>
          <span>Buildings</span>
        </div>
        <div class="leg-item">
          <svg viewBox="0 0 14 14"><rect x="1" y="1" width="12" height="12" rx="1" fill="#E87461" stroke="#D06050" stroke-width="0.8" opacity="0.8"/></svg>
          <span>Parks &middot; Green</span>
        </div>
        <div class="leg-item">
          <svg viewBox="0 0 14 14">
            <line x1="2" y1="7" x2="12" y2="7" stroke="#1A1A2E" stroke-width="2"/>
            <line x1="2" y1="10" x2="12" y2="10" stroke="#6E6E80" stroke-width="1"/>
          </svg>
          <span>Roads</span>
        </div>
        <div class="leg-item">
          <svg viewBox="0 0 14 14">
            <line x1="2" y1="7" x2="12" y2="7" stroke="#C9A0A0" stroke-width="1.2" stroke-dasharray="2,1.5"/>
          </svg>
          <span>Boundaries</span>
        </div>
      </div>
    </div>

    <!-- Source -->
    <div class="source-text">
      South-up Mercator projection<br>
      Protomaps &middot; OpenStreetMap
    </div>
  </div>

</div>

<script type="module" src="/src/main.ts"></script>
</body>
</html>
